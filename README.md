# Проект: Простое управление контактами (без сборки, без npm)

Небольшой демо-проект на чистом HTML + встроенный JavaScript + Tailwind (CDN).

## Структура
```
contacts.json   # Стартовые данные (используется как справочный файл)
index.html      # Основной интерфейс и логика
```

> В браузере JSON локально через `fetch` напрямую не читается без запуска сервера (CORS / file://). Поэтому данные продублированы внутри `index.html` в массиве `contacts`.

## Поля контакта
- id (number)
- name (string)
- email (string)
- phone (string)
- status (number, 1 = активный, 0 = не активный)

## Доступные функции (глобально в `window` — можно вызывать из консоли браузера)
- `getAllContacts()` — вернуть все контакты
- `addContact({ name, email, phone, status })` — добавить контакт
- `findActiveContact()` — вернуть только активные контакты (status = 1)
- `updateContact(id, { ...fields })` — обновить контакт по id
- `deleteContact(id)` — удалить контакт

После любой операции интерфейс автоматически перерисовывается.

## Примеры в консоли
Откройте `index.html` в браузере (двойной клик или через контекстное меню) и в консоли (F12 -> Console) выполните:

```js
getAllContacts();
findActiveContact();
addContact({ name: 'Новый Контакт', email: 'new@example.com', phone: '+7 999 000-00-00', status: 1 });
updateContact(2, { status: 1, phone: '+7 900 222-22-99' });
deleteContact(3);
```

## Сортировка и фильтрация
- Кнопки сортировки по: ID, Имени, Email, Телефону, Статусу
- Переключатели: "Активные" (по умолчанию) и "Все"
- Повторное нажатие на тот же критерий сортировки меняет направление (ASC/DESC)

## Изменение контакта через интерфейс
1. Нажмите "Изм." в строке таблицы
2. Данные попадут в форму
3. Внесите правки и нажмите "Сохранить"

## Добавление через форму
Заполните поля Имя, Email, Телефон, выберите статус и нажмите "Сохранить".

## Примечание про `contacts.json`
Файл `contacts.json` — пример стартовых данных. На **GitHub Pages** или просто открыв `index.html` в браузере:

- Нельзя программно перезаписать сам файл `contacts.json` (браузер не имеет прав на запись в репозиторий/файловую систему).
- Поэтому постоянное хранение реализовано через `localStorage`.
- При первом запуске данные копируются из встроенного массива (эквивалент `contacts.json`).

### Что добавлено для персистентности
- Автосохранение при добавлении/изменении/удалении в `localStorage` (ключ `contactsData`).
- Кнопка «Экспорт JSON» — скачивает текущий список.
- Кнопка «Импорт JSON» — загружает файл в том же формате.
- Кнопка «Сброс к стартовым» — восстанавливает дефолтные 3 контакта.
- Кнопка «Очистить все» — удаляет все контакты.

### Глобальные функции экспорта/импорта
Можно вызвать из консоли:
```js
exportContacts(); // скачать файл
importContactsFromString('[{"id":10,"name":"Тест","email":"t@e","phone":"+7 900 111-22-33","status":1}]');
resetToDefaults();
clearAllContacts();
```

## Идеи для расширения
- Добавить LocalStorage для сохранения между перезапусками
- Реализовать мини сервер (например, на Node.js / Express) и работать через fetch
- Валидация email и телефона
- Поиск по имени

## Почему не сохраняется файл на GitHub Pages?
GitHub Pages отдаёт статические файлы и не предоставляет backend для записи. Любые изменения существуют только в памяти страницы и (теперь) в `localStorage` браузера. Чтобы реально обновлять `contacts.json`, нужен backend (например, маленький сервер на Node.js) или использование GitHub API с OAuth токеном (сложно и не нужно для демо).

## Лицензия
Свободно используйте и модифицируйте.
